import { GoogleGenerativeAI } from "@google/generative-ai";

  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
    export const chatSession = model.startChat({
      generationConfig,
      history : [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Paris, for 5 days for family with a luxury budget,Give me a Hotels options list with Hotel name, Hotel address(address should be concise with 3-4 words and keep key name as HotelAddress), Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time to travel each of the location for {totalDays} days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "## Paris Luxury Family Travel Plan (5 Days)\n\n**Hotels**\n\n```json\n[\n  {\n    \"HotelName\": \"Four Seasons Hotel George V\",\n    \"HotelAddress\": \"Avenue George V\",\n    \"Price\": \"From $1,500 per night\",\n    \"HotelImageUrl\": \"https://www.fourseasons.com/images/hotels/par/hotel/gallery/hero/four-seasons-hotel-george-v-paris-hero.jpg\",\n    \"GeoCoordinates\": \"48.8682, 2.2936\",\n    \"Rating\": \"5 stars\",\n    \"Description\": \"Iconic Parisian hotel with luxurious rooms, Michelin-starred dining, and a prime location near Champs-Élysées.\"\n  },\n  {\n    \"HotelName\": \"Le Bristol Paris\",\n    \"HotelAddress\": \"Rue du Faubourg Saint-Honoré\",\n    \"Price\": \"From $1,200 per night\",\n    \"HotelImageUrl\": \"https://www.oetkercollection.com/media/images/hotels/le-bristol-paris/hero/hotel-hero-le-bristol-paris.jpg\",\n    \"GeoCoordinates\": \"48.8734, 2.2994\",\n    \"Rating\": \"5 stars\",\n    \"Description\": \"Elegant hotel known for its exceptional service, stylish suites, and a rooftop pool with city views.\"\n  },\n  {\n    \"HotelName\": \"The Ritz Paris\",\n    \"HotelAddress\": \"Place Vendôme\",\n    \"Price\": \"From $1,000 per night\",\n    \"HotelImageUrl\": \"https://www.ritzparis.com/sites/default/files/styles/hero/public/hero-banner-homepage.jpg?itok=K8Y941mI\",\n    \"GeoCoordinates\": \"48.8686, 2.3206\",\n    \"Rating\": \"5 stars\",\n    \"Description\": \"Historic hotel with opulent interiors, world-class dining, and a legendary past frequented by celebrities.\"\n  },\n  {\n    \"HotelName\": \"Mandarin Oriental, Paris\",\n    \"HotelAddress\": \"Rue Saint-André des Arts\",\n    \"Price\": \"From $800 per night\",\n    \"HotelImageUrl\": \"https://www.mandarinoriental.com/paris/saint-germain-des-pres/gallery/hotel/hero/mandarin-oriental-paris-hero.jpg\",\n    \"GeoCoordinates\": \"48.8560, 2.3369\",\n    \"Rating\": \"5 stars\",\n    \"Description\": \"Stylish hotel with modern rooms, rooftop bar, and a Michelin-starred restaurant in the heart of Saint-Germain-des-Prés.\"\n  },\n  {\n    \"HotelName\": \"Hotel Plaza Athénéé\",\n    \"HotelAddress\": \"Avenue Montaigne\",\n    \"Price\": \"From $700 per night\",\n    \"HotelImageUrl\": \"https://www.dorchestercollection.com/media/images/hotels/plaza-athenee-paris/hero/hotel-hero-plaza-athenee.jpg\",\n    \"GeoCoordinates\": \"48.8628, 2.2943\",\n    \"Rating\": \"5 stars\",\n    \"Description\": \"Sophisticated hotel with a prime location on Avenue Montaigne, known for its fashion boutiques and luxury shopping.\"\n  }\n]\n```\n\n**Itinerary**\n\n```json\n{\n  \"totalDays\": 5,\n  \"days\": [\n    {\n      \"day\": 1,\n      \"bestTime\": \"Morning\",\n      \"plan\": [\n        {\n          \"placeName\": \"Eiffel Tower\",\n          \"PlaceDetails\": \"Iconic wrought-iron tower offering panoramic views of Paris.\",\n          \"PlaceImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c8/Eiffel_Tower_at_Night_%282016%29.jpg/1280px-Eiffel_Tower_at_Night_%282016%29.jpg\",\n          \"GeoCoordinates\": \"48.8584, 2.2945\",\n          \"ticketPricing\": \"From €26.50 per adult\",\n          \"Time\": \"3 hours\"\n        },\n        {\n          \"placeName\": \"Champ de Mars\",\n          \"PlaceDetails\": \"Large park at the foot of the Eiffel Tower, perfect for a relaxing picnic or stroll.\",\n          \"PlaceImageUrl\": \"https://www.parisinfo.com/var/site/storage/images/medias/image/champ-de-mars-vue-tour-eiffel-paris_20170301115400_xlarge_default.jpg\",\n          \"GeoCoordinates\": \"48.8585, 2.2923\",\n          \"ticketPricing\": \"Free\",\n          \"Time\": \"1 hour\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"bestTime\": \"Morning\",\n      \"plan\": [\n        {\n          \"placeName\": \"Louvre Museum\",\n          \"PlaceDetails\": \"World-renowned art museum housing masterpieces like the Mona Lisa.\",\n          \"PlaceImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f4/Louvre_Museum_2008.jpg/1280px-Louvre_Museum_2008.jpg\",\n          \"GeoCoordinates\": \"48.8606, 2.3376\",\n          \"ticketPricing\": \"From €17 per adult\",\n          \"Time\": \"3-4 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"bestTime\": \"Afternoon\",\n      \"plan\": [\n        {\n          \"placeName\": \"Tuileries Garden\",\n          \"PlaceDetails\": \"Beautiful formal garden between the Louvre and Place de la Concorde.\",\n          \"PlaceImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d6/Tuileries_Garden_2011.jpg/1280px-Tuileries_Garden_2011.jpg\",\n          \"GeoCoordinates\": \"48.8605, 2.3258\",\n          \"ticketPricing\": \"Free\",\n          \"Time\": \"1 hour\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"bestTime\": \"Morning\",\n      \"plan\": [\n        {\n          \"placeName\": \"Notre Dame Cathedral\",\n          \"PlaceDetails\": \"Iconic Gothic cathedral on Île de la Cité, currently undergoing restoration.\",\n          \"PlaceImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Cathedrale_Notre_Dame_de_Paris_2012_DSC_0140.jpg/1280px-Cathedrale_Notre_Dame_de_Paris_2012_DSC_0140.jpg\",\n          \"GeoCoordinates\": \"48.8534, 2.3496\",\n          \"ticketPricing\": \"Free (currently closed)\",\n          \"Time\": \"2 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"bestTime\": \"Afternoon\",\n      \"plan\": [\n        {\n          \"placeName\": \"Île Saint-Louis\",\n          \"PlaceDetails\": \"Charming island in the Seine River with quaint shops and restaurants.\",\n          \"PlaceImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/13/Ile_Saint-Louis_Paris_France_3384.jpg/1280px-Ile_Saint-Louis_Paris_France_3384.jpg\",\n          \"GeoCoordinates\": \"48.8521, 2.3589\",\n          \"ticketPricing\": \"Free\",\n          \"Time\": \"2 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 4,\n      \"bestTime\": \"Morning\",\n      \"plan\": [\n        {\n          \"placeName\": \"Arc de Triomphe\",\n          \"PlaceDetails\": \"Triumphal arch commemorating French military victories.\",\n          \"PlaceImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Arc_de_Triomphe_Paris_France_%281%29.jpg/1280px-Arc_de_Triomphe_Paris_France_%281%29.jpg\",\n          \"GeoCoordinates\": \"48.8738, 2.2950\",\n          \"ticketPricing\": \"From €13 per adult\",\n          \"Time\": \"2 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 4,\n      \"bestTime\": \"Afternoon\",\n      \"plan\": [\n        {\n          \"placeName\": \"Champs-Élysées\",\n          \"PlaceDetails\": \"Famous avenue lined with luxury shops, restaurants, and theaters.\",\n          \"PlaceImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Champs-%C3%A9lys%C3%A9es_December_2011.jpg/1280px-Champs-%C3%A9lys%C3%A9es_December_2011.jpg\",\n          \"GeoCoordinates\": \"48.8636, 2.2952\",\n          \"ticketPricing\": \"Free\",\n          \"Time\": \"2 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 5,\n      \"bestTime\": \"Morning\",\n      \"plan\": [\n        {\n          \"placeName\": \"Versailles Palace\",\n          \"PlaceDetails\": \"Grand palace with opulent gardens, showcasing the grandeur of French royalty.\",\n          \"PlaceImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Versailles_Palace_2013.jpg/1280px-Versailles_Palace_2013.jpg\",\n          \"GeoCoordinates\": \"48.8045, 2.1215\",\n          \"ticketPricing\": \"From €20 per adult\",\n          \"Time\": \"4-5 hours\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Notes:**\n\n* This itinerary is a suggestion, you can customize it based on your family's interests and preferences.\n* Consider booking tours and tickets in advance, especially for popular attractions.\n* Paris is a walkable city, but consider using the Metro or taxis for longer distances.\n* Don't forget to pack comfortable shoes and be prepared for crowds, especially during peak season.\n* Enjoy your luxurious family trip to Paris! \n"},
          ],
        },
        {
          role: "user",
          parts: [
            {text: "The data you provided is correct just remove the double quotes for all keys within the json object\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "You are absolutely right!  I apologize for the mistake. Here is the corrected JSON with the double quotes removed from the keys:\n\n```json\n[\n  {\n    HotelName: \"Four Seasons Hotel George V\",\n    HotelAddress: \"Avenue George V\",\n    Price: \"From $1,500 per night\",\n    HotelImageUrl: \"https://www.fourseasons.com/images/hotels/par/hotel/gallery/hero/four-seasons-hotel-george-v-paris-hero.jpg\",\n    GeoCoordinates: \"48.8682, 2.2936\",\n    Rating: \"5 stars\",\n    Description: \"Iconic Parisian hotel with luxurious rooms, Michelin-starred dining, and a prime location near Champs-Élysées.\"\n  },\n  {\n    HotelName: \"Le Bristol Paris\",\n    HotelAddress: \"Rue du Faubourg Saint-Honoré\",\n    Price: \"From $1,200 per night\",\n    HotelImageUrl: \"https://www.oetkercollection.com/media/images/hotels/le-bristol-paris/hero/hotel-hero-le-bristol-paris.jpg\",\n    GeoCoordinates: \"48.8734, 2.2994\",\n    Rating: \"5 stars\",\n    Description: \"Elegant hotel known for its exceptional service, stylish suites, and a rooftop pool with city views.\"\n  },\n  {\n    HotelName: \"The Ritz Paris\",\n    HotelAddress: \"Place Vendôme\",\n    Price: \"From $1,000 per night\",\n    HotelImageUrl: \"https://www.ritzparis.com/sites/default/files/styles/hero/public/hero-banner-homepage.jpg?itok=K8Y941mI\",\n    GeoCoordinates: \"48.8686, 2.3206\",\n    Rating: \"5 stars\",\n    Description: \"Historic hotel with opulent interiors, world-class dining, and a legendary past frequented by celebrities.\"\n  },\n  {\n    HotelName: \"Mandarin Oriental, Paris\",\n    HotelAddress: \"Rue Saint-André des Arts\",\n    Price: \"From $800 per night\",\n    HotelImageUrl: \"https://www.mandarinoriental.com/paris/saint-germain-des-pres/gallery/hotel/hero/mandarin-oriental-paris-hero.jpg\",\n    GeoCoordinates: \"48.8560, 2.3369\",\n    Rating: \"5 stars\",\n    Description: \"Stylish hotel with modern rooms, rooftop bar, and a Michelin-starred restaurant in the heart of Saint-Germain-des-Prés.\"\n  },\n  {\n    HotelName: \"Hotel Plaza Athénéé\",\n    HotelAddress: \"Avenue Montaigne\",\n    Price: \"From $700 per night\",\n    HotelImageUrl: \"https://www.dorchestercollection.com/media/images/hotels/plaza-athenee-paris/hero/hotel-hero-plaza-athenee.jpg\",\n    GeoCoordinates: \"48.8628, 2.2943\",\n    Rating: \"5 stars\",\n    Description: \"Sophisticated hotel with a prime location on Avenue Montaigne, known for its fashion boutiques and luxury shopping.\"\n  }\n]\n```\n\n```json\n{\n  totalDays: 5,\n  days: [\n    {\n      day: 1,\n      bestTime: \"Morning\",\n      plan: [\n        {\n          placeName: \"Eiffel Tower\",\n          PlaceDetails: \"Iconic wrought-iron tower offering panoramic views of Paris.\",\n          PlaceImageUrl: \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c8/Eiffel_Tower_at_Night_%282016%29.jpg/1280px-Eiffel_Tower_at_Night_%282016%29.jpg\",\n          GeoCoordinates: \"48.8584, 2.2945\",\n          ticketPricing: \"From €26.50 per adult\",\n          Time: \"3 hours\"\n        },\n        {\n          placeName: \"Champ de Mars\",\n          PlaceDetails: \"Large park at the foot of the Eiffel Tower, perfect for a relaxing picnic or stroll.\",\n          PlaceImageUrl: \"https://www.parisinfo.com/var/site/storage/images/medias/image/champ-de-mars-vue-tour-eiffel-paris_20170301115400_xlarge_default.jpg\",\n          GeoCoordinates: \"48.8585, 2.2923\",\n          ticketPricing: \"Free\",\n          Time: \"1 hour\"\n        }\n      ]\n    },\n    {\n      day: 2,\n      bestTime: \"Morning\",\n      plan: [\n        {\n          placeName: \"Louvre Museum\",\n          PlaceDetails: \"World-renowned art museum housing masterpieces like the Mona Lisa.\",\n          PlaceImageUrl: \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f4/Louvre_Museum_2008.jpg/1280px-Louvre_Museum_2008.jpg\",\n          GeoCoordinates: \"48.8606, 2.3376\",\n          ticketPricing: \"From €17 per adult\",\n          Time: \"3-4 hours\"\n        }\n      ]\n    },\n    {\n      day: 2,\n      bestTime: \"Afternoon\",\n      plan: [\n        {\n          placeName: \"Tuileries Garden\",\n          PlaceDetails: \"Beautiful formal garden between the Louvre and Place de la Concorde.\",\n          PlaceImageUrl: \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d6/Tuileries_Garden_2011.jpg/1280px-Tuileries_Garden_2011.jpg\",\n          GeoCoordinates: \"48.8605, 2.3258\",\n          ticketPricing: \"Free\",\n          Time: \"1 hour\"\n        }\n      ]\n    },\n    {\n      day: 3,\n      bestTime: \"Morning\",\n      plan: [\n        {\n          placeName: \"Notre Dame Cathedral\",\n          PlaceDetails: \"Iconic Gothic cathedral on Île de la Cité, currently undergoing restoration.\",\n          PlaceImageUrl: \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Cathedrale_Notre_Dame_de_Paris_2012_DSC_0140.jpg/1280px-Cathedrale_Notre_Dame_de_Paris_2012_DSC_0140.jpg\",\n          GeoCoordinates: \"48.8534, 2.3496\",\n          ticketPricing: \"Free (currently closed)\",\n          Time: \"2 hours\"\n        }\n      ]\n    },\n    {\n      day: 3,\n      bestTime: \"Afternoon\",\n      plan: [\n        {\n          placeName: \"Île Saint-Louis\",\n          PlaceDetails: \"Charming island in the Seine River with quaint shops and restaurants.\",\n          PlaceImageUrl: \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/13/Ile_Saint-Louis_Paris_France_3384.jpg/1280px-Ile_Saint-Louis_Paris_France_3384.jpg\",\n          GeoCoordinates: \"48.8521, 2.3589\",\n          ticketPricing: \"Free\",\n          Time: \"2 hours\"\n        }\n      ]\n    },\n    {\n      day: 4,\n      bestTime: \"Morning\",\n      plan: [\n        {\n          placeName: \"Arc de Triomphe\",\n          PlaceDetails: \"Triumphal arch commemorating French military victories.\",\n          PlaceImageUrl: \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Arc_de_Triomphe_Paris_France_%281%29.jpg/1280px-Arc_de_Triomphe_Paris_France_%281%29.jpg\",\n          GeoCoordinates: \"48.8738, 2.2950\",\n          ticketPricing: \"From €13 per adult\",\n          Time: \"2 hours\"\n        }\n      ]\n    },\n    {\n      day: 4,\n      bestTime: \"Afternoon\",\n      plan: [\n        {\n          placeName: \"Champs-Élysées\",\n          PlaceDetails: \"Famous avenue lined with luxury shops, restaurants, and theaters.\",\n          PlaceImageUrl: \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Champs-%C3%A9lys%C3%A9es_December_2011.jpg/1280px-Champs-%C3%A9lys%C3%A9es_December_2011.jpg\",\n          GeoCoordinates: \"48.8636, 2.2952\",\n          ticketPricing: \"Free\",\n          Time: \"2 hours\"\n        }\n      ]\n    },\n    {\n      day: 5,\n      bestTime: \"Morning\",\n      plan: [\n        {\n          placeName: \"Versailles Palace\",\n          PlaceDetails: \"Grand palace with opulent gardens, showcasing the grandeur of French royalty.\",\n          PlaceImageUrl: \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Versailles_Palace_2013.jpg/1280px-Versailles_Palace_2013.jpg\",\n          GeoCoordinates: \"48.8045, 2.1215\",\n          ticketPricing: \"From €20 per adult\",\n          Time: \"4-5 hours\"\n        }\n      ]\n    }\n  ]\n}\n```\n\nThis should be the correct JSON format! Please let me know if you have any other questions. \n"},
          ],
        },
      ],
    });
  
  

